(window.webpackJsonp=window.webpackJsonp||[]).push([[934],{1654:function(t,e,n){},1661:function(t,e,n){"use strict";var a=n(296),o=(n(7),n(307)),i=n.n(o),r=n(0),s=(n(91),n(65),n(96),n(24),n(92),n(31),n(1532),{jpg:"data:image/jpg;base64,",png:"data:image/png;base64,",csv:"data:text/csv;charset=utf-8,"});n(428),n(40),n(94),n(68);var c={name:"MyCapture",props:{dom:{type:HTMLElement,default:function(){return document.body}},options:{type:Object},beforeCapture:{type:Function,default:function(){return Promise.resolve()}}},data:function(){return{h2c:null}},computed:{h2cOpt:function(){return Object.assign({logging:!1,allowTain:!0,useCORS:!0},this.options||{})}},methods:{capture:function(){var t=this;this.beforeCapture().then((function(){t.$emit("on-capture",t.dom),t.h2c?t._renderImg(t.h2c):n.e(1501).then(n.t.bind(null,3394,7)).then((function(e){e&&(t.h2c=e.default||e,t._renderImg(t.h2c))})).catch((function(e){console.log(e),t.$alert("控件加载失败")}))}))},_renderImg:function(t){var e=this,n=this.h2cOpt;t(this.dom,n).then((function(t){var n,a,o,i,r=t.toDataURL(),c=function(t,e,n){if(!t)return new Date;var a="string"==typeof t?new Date(t.replace(/-/g,"/")):t,o={y:0,M:0,d:0,h:0,m:0,s:0};Object.assign(o,n||{});var i={"M+":(a=new Date(o.y+a.getFullYear(),o.M+a.getMonth(),o.d+a.getDate(),o.h+a.getHours(),o.m+a.getMinutes(),o.s+a.getSeconds())).getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};if(e){for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,4===RegExp.$1.length?a.getFullYear():(a.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?i[r]:("00"+i[r]).substr((""+i[r]).length)));return e}return a}(new Date,"yyyyMMddhhmmss");n=null,a="".concat(c,".png"),o=r,(i=document.createElement("a")).download=a,i.href=null===n?o:(s[n]||"")+o,i.click(),e.$emit("on-output",r)})).catch((function(t){e.$emit("on-failed",t)}))}}};r.default.use(i.a);var u=c,l=n(39),d=Object(l.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"xdh-capture",on:{click:function(e){return e.preventDefault(),t.capture(e)}}},[t._t("button",[n("el-button",{attrs:{circle:"",icon:"el-icon-view"}})])],2)}),[],!1,null,null,null).exports;e.a=Object(a.a)(d)},296:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n(65),"My".toLowerCase();function a(t){return t.install=function(e){return"undefined"!=typeof window&&n(301).default(t),e.component(t.name,t)},t}},297:function(t,e,n){"use strict";n(306);var a={version:"4.0.0-99",debug:!1,appName:null,routePrefix:null,router:{mode:"hash",base:"/"},autoRoutes:!0,vuex:{strict:!1},keys:{code:"code",data:"data",message:"msg",total:"total",list:"list",page:"page",limit:"limit",pages:"pages"},statusCode:{success:0,notLogin:401,authorize:403,error:500},axios:{headers:{"Content-Type":"application/json;charset=UTF-8"},timeout:0,withCredentials:!0,responseType:"json",maxContentLength:-1},svg:{viewBox:"0 0 1024 1024",width:"1em",height:"1em",fill:"currentColor"},access:{},mock:{timeout:"50-200"},scale:{width:1920,height:1080,disabled:!0,lock:!0},analysis:!1,microApp:{prefetch:!1,singular:!0,sandbox:!0}};e.a=a},298:function(t,e,n){},301:function(t,e,n){"use strict";n.r(e);n(160),n(65);var a=n(297),o=!1,i=[],r=null;a.a.analysis&&function(){if(!o){var t="c4e5f73318b5cb0c389e3d9a05f831cc",e=window._hmt;if(!e||e&&e.id!==t){var n=document.createElement("script");n.src="https://hm.baidu.com/hm.js?".concat(t);var a=document.getElementsByTagName("script")[0];a&&a.parentNode.insertBefore(n,a)}o=!0}}(),e.default=function(t){var e;a.a.analysis&&(e=t.name,i.push(e),clearTimeout(r),r=setTimeout((function(){if(window._hmt&&e){var t=window.location.host,n=window.location.href;window._hmt.push(["_trackEvent",t,i.join(","),a.a.version,n]),i=[]}}),3e3))}},3158:function(t,e,n){"use strict";n.r(e);n(1654),n(298);var a=n(1661);n(0).default.use(a.a);var o={},i=n(39),r=Object(i.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v(" hello world ")]),this._v(" "),e("p",[this._v("capture控件默认以document.body作为目标dom进行截图")]),this._v(" "),e("my-capture")],1)}),[],!1,null,"1bf7bd28",null);e.default=r.exports}}]);