(window.webpackJsonp=window.webpackJsonp||[]).push([[1071],{1353:function(t,i,n){},1393:function(t,i,n){"use strict";var e=n(296),a=(n(162),n(161),n(193),n(160),n(188),n(462),n(363),n(165),n(1117),n(399)),s=n.n(a),u=n(339),r=n.n(u),o=n(295),l=n(0),c={name:"MyEditTags",props:{isRight:{type:Boolean,default:!0},tagsList:{type:Array,default:function(){return[]}},readOnly:{type:Boolean,default:!1},devides:{type:Array,default:function(){return["，",",","|"]}},inputWidth:{type:String,default:"80px"},size:{type:String,default:"",validator:function(t){return-1!==["","medium","small","mini"].indexOf(t)}},validate:{type:Function},invalidateHandle:{type:Function}},data:function(){return{dynamicTags:[],inputVisible:!1,inputValue:""}},computed:{inputClass:function(){var t=["input-new-tag"],i=this.size?"is-".concat(this.size):"is-large";return t.push(i),t},inputStyle:function(){var t=this.isRight?{marginLeft:"0px"}:{marginRight:"5px"};return Object(o.a)({width:this.inputWidth,float:this.isRight?"none":"left"},t)},addTagStyle:function(){var t=this.isRight?{marginLeft:"0px",marginRight:"0px"}:{marginLeft:"0px",marginRight:"5px"};return Object(o.a)({float:this.isRight?"none":"left"},t)}},watch:{tagsList:function(t){this.dynamicTags=this.tagsList.concat([])}},methods:{handleClose:function(t){this.dynamicTags.splice(this.dynamicTags.indexOf(t),1),this.$emit("on-delete",t,this.dynamicTags),this.$emit("update:tagsList",this.dynamicTags)},showInput:function(){var t=this;this.$emit("on-addClick"),this.inputVisible=!0,this.$nextTick((function(){t.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var t=this;if(!this.inputValue.trim())return this.inputVisible=!1,void(this.inputValue="");var i=this.inputValue,n=this._devideInput(i);this.validate&&"function"==typeof this.validate?this.validate(n,this).then((function(i){i.length&&(t.dynamicTags=t.isRight?t.dynamicTags.concat(i):i.concat(t.dynamicTags),t.$emit("on-add",i,t.dynamicTags),t.$emit("update:tagsList",t.dynamicTags)),t.inputVisible=!1,t.inputValue=""})).catch((function(i){t.invalidateHandle&&"function"==typeof t.invalidateHandle&&t.invalidateHandle(i,t)})):(n.length&&(this.dynamicTags=this.isRight?this.dynamicTags.concat(n):n.concat(this.dynamicTags),this.$emit("on-add",i,this.dynamicTags),this.$emit("update:tagsList",this.dynamicTags)),this.inputVisible=!1,this.inputValue="")},_devideInput:function(t){for(var i=this,n={},e=0,a=0;a<t.length;a++)this.devides.includes(t[a])?e+=1:n[e]?n[e].push(t[a]):n[e]=[t[a]];return Object.values(n).reduce((function(t,n){var e=n.join("").trim();return i.dynamicTags.includes(e)||t.push(e),t}),[])},setTags:function(t){this.dynamicTags=t,this.$emit("update:tagsList",this.dynamicTags)}},created:function(){this.tagsList.length&&(this.dynamicTags=this.tagsList.concat([]))},mounted:function(){}};l.default.use(r.a),l.default.use(s.a);var d=c,h=n(39),p=Object(h.a)(d,(function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"my-edit-tags"},[n("div",{staticClass:"my-edit-tags__warp clearfix"},[t._l(t.dynamicTags,(function(i,e){return n("el-tag",t._b({key:i+"_"+e,attrs:{size:t.size,closable:!t.readOnly,"disable-transitions":!0},on:{close:function(n){return t.handleClose(i)}}},"el-tag",t.$attrs,!1),[t._v("\n      "+t._s(i)+"\n    ")])})),t._v(" "),t.inputVisible?n("el-input",{ref:"saveTagInput",class:t.inputClass,style:t.inputStyle,attrs:{size:"mini"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.handleInputConfirm(i)}},model:{value:t.inputValue,callback:function(i){t.inputValue=i},expression:"inputValue"}}):n("el-tag",t._b({directives:[{name:"show",rawName:"v-show",value:!t.readOnly,expression:"!readOnly"}],key:"edit",staticClass:"button-new-tag",style:t.addTagStyle,attrs:{size:t.size},on:{click:t.showInput}},"el-tag",t.$attrs,!1),[t._v("+ 添加")])],2)])}),[],!1,null,null,null).exports;i.a=Object(e.a)(p)},296:function(t,i,n){"use strict";n.d(i,"a",(function(){return e}));n(65),"My".toLowerCase();function e(t){return t.install=function(i){return"undefined"!=typeof window&&n(307).default(t),i.component(t.name,t)},t}},297:function(t,i,n){},298:function(t,i,n){"use strict";n(310);var e={version:"4.0.1",debug:!1,appName:null,routePrefix:null,router:{mode:"hash",base:"/"},autoRoutes:!0,vuex:{strict:!1},keys:{code:"code",data:"data",message:"msg",total:"total",list:"list",page:"page",limit:"limit",pages:"pages"},statusCode:{success:0,notLogin:401,authorize:403,error:500},axios:{headers:{"Content-Type":"application/json;charset=UTF-8"},timeout:0,withCredentials:!0,responseType:"json",maxContentLength:-1},svg:{viewBox:"0 0 1024 1024",width:"1em",height:"1em",fill:"currentColor"},access:{},mock:{timeout:"50-200"},scale:{width:1920,height:1080,disabled:!0,lock:!0},analysis:!1,microApp:{prefetch:!1,singular:!0,sandbox:!0}};i.a=e},307:function(t,i,n){"use strict";n.r(i);n(160),n(65);var e=n(298),a=!1,s=[],u=null;e.a.analysis&&function(){if(!a){var t="c4e5f73318b5cb0c389e3d9a05f831cc",i=window._hmt;if(!i||i&&i.id!==t){var n=document.createElement("script");n.src="https://hm.baidu.com/hm.js?".concat(t);var e=document.getElementsByTagName("script")[0];e&&e.parentNode.insertBefore(n,e)}a=!0}}(),i.default=function(t){var i;e.a.analysis&&(i=t.name,s.push(i),clearTimeout(u),u=setTimeout((function(){if(window._hmt&&i){var t=window.location.host,n=window.location.href;window._hmt.push(["_trackEvent",t,s.join(","),e.a.version,n]),s=[]}}),3e3))}},3148:function(t,i,n){"use strict";n.r(i);n(19),n(160),n(67),n(7),n(1353),n(297);var e=n(1393),a={data:function(){return{arr1:["1","2","3","4"],errInfo:""}},methods:{validate:function(t,i){var n=this;return new Promise((function(i,e){var a=[],s=t.filter((function(t,i){if(!(t.length>3))return t;a.push({index:i,val:t})})),u=a.map((function(t){return t.index+1})).join(",");return n.errInfo=a.map((function(t){return t.val})).join(","),a.length&&n.$message({type:"warning",message:"第".concat(u,"个标签长度过长")}),s.length?i(s):e(a)}))},invalidCb:function(t,i){this.errInfo=t.map((function(t){return t.val})).join(","),i.inputVisible=!1,i.inputValue=""}}};n(0).default.use(e.a);var s=a,u=n(39),r=Object(u.a)(s,(function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("div",[t._v("\n    标签禁止超过三个字符"),n("br"),t._v(" "),n("my-edit-tags",{attrs:{"tags-list":t.arr1,validate:t.validate,"invalidate-handle":t.invalidCb,"input-width":"200px"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.errInfo,expression:"errInfo"}]},[t._v("\n    错误信息："+t._s(t.errInfo)+"\n    ")])],1)])}),[],!1,null,null,null);i.default=r.exports}}]);