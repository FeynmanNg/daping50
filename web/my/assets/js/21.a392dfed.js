(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{296:function(a,t,i){"use strict";i.d(t,"a",(function(){return e}));i(65),"My".toLowerCase();function e(a){return a.install=function(t){return"undefined"!=typeof window&&i(301).default(a),t.component(a.name,a)},a}},297:function(a,t,i){"use strict";i(306);var e={version:"4.0.0-99",debug:!1,appName:null,routePrefix:null,router:{mode:"hash",base:"/"},autoRoutes:!0,vuex:{strict:!1},keys:{code:"code",data:"data",message:"msg",total:"total",list:"list",page:"page",limit:"limit",pages:"pages"},statusCode:{success:0,notLogin:401,authorize:403,error:500},axios:{headers:{"Content-Type":"application/json;charset=UTF-8"},timeout:0,withCredentials:!0,responseType:"json",maxContentLength:-1},svg:{viewBox:"0 0 1024 1024",width:"1em",height:"1em",fill:"currentColor"},access:{},mock:{timeout:"50-200"},scale:{width:1920,height:1080,disabled:!0,lock:!0},analysis:!1,microApp:{prefetch:!1,singular:!0,sandbox:!0}};t.a=e},301:function(a,t,i){"use strict";i.r(t);i(160),i(65);var e=i(297),n=!1,r=[],o=null;e.a.analysis&&function(){if(!n){var a="c4e5f73318b5cb0c389e3d9a05f831cc",t=window._hmt;if(!t||t&&t.id!==a){var i=document.createElement("script");i.src="https://hm.baidu.com/hm.js?".concat(a);var e=document.getElementsByTagName("script")[0];e&&e.parentNode.insertBefore(i,e)}n=!0}}(),t.default=function(a){var t;e.a.analysis&&(t=a.name,r.push(t),clearTimeout(o),o=setTimeout((function(){if(window._hmt&&t){var a=window.location.host,i=window.location.href;window._hmt.push(["_trackEvent",a,r.join(","),e.a.version,i]),r=[]}}),3e3))}},672:function(a,t,i){"use strict";var e={register:function(a,t){if(e[a])throw new Error("diagram "+a+" is exisit");e[a]=t}};t.a=e},719:function(a,t,i){"use strict";var e=i(296),n=(i(19),i(344),i(91),i(161),i(67),i(65),i(92),i(41)),r=i(722),o=i.n(r),s=i(672),d=o.a.GraphObject.make,m=["nodeTemplate","linkTemplate","nodeTemplateMap","linkTemplateMap","groupTemplate","groupTemplateMap"],l={name:"MyGo",provide:function(){return{diagramName:this.diagramName}},props:{diagramName:{type:String,default:function(){return"diagram"+(new Date).getTime()+Math.floor(1e3*Math.random())}},goRegister:{type:Function},width:{type:String,default:"100%"},height:{type:String,default:"100%"},nodeTemplate:{type:Function},linkTemplate:{type:Function},nodeTemplateMap:{type:Function},linkTemplateMap:{type:Function},groupTemplate:{type:Function},groupTemplateMap:{type:Function},type:{type:String,default:"Model",validator:function(a){return["Model","GraphLinksModel","TreeModel"].includes(a)}},nodes:{type:Array},links:{type:Array},config:{type:[Object,Function]},layout:{type:Function},events:{type:Object,default:function(){return Object.create(null)}},modelConfig:{type:[Object,Function]},palette:{type:Boolean,default:!1},loadDataFunc:{type:[Function,Object],default:null}},data:function(){return{htmlInfo:{},timeout:null}},computed:{styles:function(){return{width:this.width,height:this.height}}},watch:{nodes:function(a){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.loadData(a,t.links)}),50)},links:function(a){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.loadData(t.nodes,a)}),50)}},methods:{loadData:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(s.a[this.diagramName]){var i=s.a[this.diagramName].model;i.nodeDataArray=a,"GraphLinksModel"===this.type&&(i.linkDataArray=t),s.a[this.diagramName].updateAllRelationshipsFromData(),this.$emit("on-load-data",s.a[this.diagramName],d,o.a)}},loadTemplate:function(){var a=this;m.forEach((function(t){a.setTemplate(t,a[t])}))},setTemplate:function(a,t){if(!m.includes(a))throw new Error("setTemplate不支持模板类型".concat(a));"function"==typeof t&&(s.a[this.diagramName][a]=t(d,o.a,this))},loadLayout:function(a){a&&(s.a[this.diagramName].layout=a(d,o.a,this))},bindEvents:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s.a[this.diagramName])for(var t in a)if(Object.prototype.hasOwnProperty.call(a,t)){var i=this.listeners[t]=a[t].bind(this);s.a[this.diagramName].addDiagramListener(t,i)}},unbindEvents:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s.a[this.diagramName])for(var t in a)if(Object.prototype.hasOwnProperty.call(a,t)){var i=this.listeners[t]||a[t];s.a[this.diagramName].removeDiagramListener(t,i),delete this.listeners[t]}},findNode:function(a,t){if(!s.a[this.diagramName])return null;var i=s.a[this.diagramName].model,e=i.nodeDataArray||[],n="function"==typeof a?e.find(a):i.findNodeDataForKey(a);return t?s.a[this.diagramName].findNodeForData(n):n},findNodes:function(a,t){var i=this;if(!s.a[this.diagramName])return[];if(!("function"==typeof a))throw new Error("findNodes的filter参数必须要是函数");var e=(s.a[this.diagramName].model.nodeDataArray||[]).filter(a);return t?e.map((function(a){return s.a[i.diagramName].findNodeForData(a)})):e},findLink:function(a,t){if(!s.a[this.diagramName])return null;var i=s.a[this.diagramName].model,e=i.linkDataArray||[],n="function"==typeof a?e.find(a):i.findLinkDataForKey(a);return t?s.a[this.diagramName].findLinkForData(n):n},findLinks:function(a,t){var i=this;if(!s.a[this.diagramName])return[];if(!("function"==typeof a))throw new Error("findLinks的filter参数必须要是函数");var e=(s.a[this.diagramName].model.linkDataArray||[]).filter(a);return t?e.map((function(a){return s.a[i.diagramName].findLinkForData(a)})):e},findChildLinks:function(a){if(!a||!s.a[this.diagramName])return[];var t=s.a[this.diagramName].model.linkDataArray||[],i=[];return function a(e){t.filter((function(a){return a.from===e})).forEach((function(t){i.push(t),a(t.to)}))}(a),i},findChildNodes:function(a){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"parent",e=[];if("GraphLinksModel"===this.type){var n=this.findChildLinks(a);n.forEach((function(a){e.push(t.findNode(a.to))}))}else if("TreeModel"===this.type){var r=s.a[this.diagramName].model,o=r.nodeDataArray||[],d=function a(t){o.filter((function(a){return a[i]===t})).forEach((function(t){e.push(t),a(t.key)}))};d(a)}return e},update:function(a,t,i){if(s.a[this.diagramName]){var e=Object(n.a)(t);if(!["string","object"].includes(e))throw new Error("update的参数 props 必须事string 或 object类型");var r=s.a[this.diagramName].model;if(s.a[this.diagramName].startTransaction("update"),"string"===e)r.set(a,t,i);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.set(a,o,t[o]);s.a[this.diagramName].commitTransaction("update")}},addNode:function(a){if(s.a[this.diagramName]){var t=s.a[this.diagramName].model;s.a[this.diagramName].startTransaction("addNode"),Array.isArray(a)?t.addNodeDataCollection(a):t.addNodeData(a),s.a[this.diagramName].commitTransaction("addNode")}},addLink:function(a){if(s.a[this.diagramName]){var t=s.a[this.diagramName].model;s.a[this.diagramName].startTransaction("addLink"),Array.isArray(a)?t.addLinkDataCollection(a):t.addLinkData(a),s.a[this.diagramName].commitTransaction("addLink")}},removeNode:function(a){if(s.a[this.diagramName]&&("string"==typeof a&&(a=this.findNode(a)),a)){var t=s.a[this.diagramName].model;s.a[this.diagramName].startTransaction("removeNode"),Array.isArray(a)?t.removeNodeDataCollection(a):t.removeNodeData(a),s.a[this.diagramName].commitTransaction("removeNode")}},removeLink:function(a){if(s.a[this.diagramName]&&"GraphLinksModel"===this.type&&("string"==typeof a&&(a=this.findLink(a)),a)){var t=s.a[this.diagramName].model;s.a[this.diagramName].startTransaction("removeLink"),Array.isArray(a)?t.removeLinkDataCollection(a):t.removeLinkData(a),s.a[this.diagramName].commitTransaction("removeLink")}},removeChild:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"parent",i=this.findChildNodes(a,t),e=this.findChildLinks(a,t);s.a[this.diagramName].startTransaction("removeChild"),this.removeNode(i),this.removeLink(e),s.a[this.diagramName].commitTransaction("removeChild")},clear:function(){if(s.a[this.diagramName]){var a=s.a[this.diagramName].model;s.a[this.diagramName].startTransaction("clear"),a.clear(),s.a[this.diagramName].commitTransaction("clear")}},toJson:function(){return s.a[this.diagramName]?s.a[this.diagramName].model.toJson():JSON.stringify({})},fromJson:function(a){s.a[this.diagramName]&&(s.a[this.diagramName].model=o.a.Model.fromJson("string"==typeof a?a:JSON.stringify(a)))},resize:function(){s.a[this.diagramName]&&s.a[this.diagramName].requestUpdate()},getHtmlInfo:function(){var a=this;this.$children.forEach((function(t){"XdhGoHtml"===t.name&&(a.htmlInfo[t.menuName]=t.bindMenu(),t.appendToBody&&a.$el.parentNode.appendChild(t.$el))}))}},mounted:function(){s.a.register(this.diagramName,d(this.palette?o.a.Palette:o.a.Diagram,this.$el,"function"==typeof this.config?this.config(d,o.a):this.config||{})),this.getHtmlInfo(),this.loadTemplate(),s.a[this.diagramName].model=d(o.a[this.type],"function"==typeof this.modelConfig?this.modelConfig(d,o.a):this.modelConfig||{}),this.loadLayout(this.layout),this.loadDataFunc&&"function"==typeof this.loadDataFunc?this.loadDataFunc(s.a[this.diagramName],d,o.a,this.nodes,this.links):this.loadData(this.nodes,this.links),this.bindEvents(this.events),this.$emit("on-ready",s.a[this.diagramName],d,o.a)},beforeDestroy:function(){this.unbindEvents(this.events),s.a[this.diagramName].div=null,delete s.a[this.diagramName]},created:function(){this.goRegister&&"function"==typeof this.goRegister&&this.goRegister(d,o.a),this.listeners={}}},h=i(39),u=Object(h.a)(l,(function(){var a=this.$createElement;return(this._self._c||a)("div",{staticClass:"my-go",style:this.styles},[this._t("default")],2)}),[],!1,null,null,null).exports;t.a=Object(e.a)(u)}}]);