(window.webpackJsonp=window.webpackJsonp||[]).push([[1134],{1855:function(e,t,n){"use strict";var a=n(296),i=n(317),o=n.n(i),r=n(0),s=n(802),l=n.n(s),u=n(722),c={name:"MyGoSnapshot",components:{},props:{layout:{type:String,default:"image,imageData,svg"},diagramName:{type:String,default:"dig"},options:{type:Object,default:function(){return{}}}},data:function(){return{imageDefaultOption:{scale:1,size:new l.a.Size(100,100),type:"image/png"},svgDefaultOption:{scale:1,size:new l.a.Size(100,100)}}},computed:{},methods:{makeImage:function(){var e=u.a[this.diagramName].documentBounds,t=new l.a.Size(e.width+20,e.height+20),n=Object.assign({},this.imageDefaultOption,{size:t},this.options.image||{}),a=u.a[this.diagramName].makeImage(n);this.$emit("on-snap","image",a)},makeImageData:function(){var e=u.a[this.diagramName].documentBounds,t=new l.a.Size(e.width+20,e.height+20),n=Object.assign({},this.imageDefaultOption,{size:t},this.options.imageData||{}),a=u.a[this.diagramName].makeImageData(n);this.$emit("on-snap","imageData",a)},makeSvg:function(){var e=u.a[this.diagramName].documentBounds,t=new l.a.Size(e.width+20,e.height+20),n=Object.assign({},this.svgDefaultOption,{size:t},this.options.svg||{}),a=u.a[this.diagramName].makeSvg(n);this.$emit("on-snap","svg",a)}},created:function(){}};r.default.use(o.a);var m=c,d=n(39),p=Object(d.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"my-go-snapshot"},[e._t("default",e._l(e.layout.split(","),(function(t,a){return n("span",{key:a,staticClass:"btn"},["image"===t?n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.makeImage()}}},[e._v("保存图片")]):e._e(),e._v(" "),"imageData"===t?n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.makeImageData()}}},[e._v("保存图片base64")]):e._e(),e._v(" "),"svg"===t?n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.makeSvg()}}},[e._v("保存svg")]):e._e()],1)})),{makeImage:e.makeImage,makeImageData:e.makeImageData,makeSvg:e.makeSvg})],2)}),[],!1,null,"5ca17d95",null).exports;t.a=Object(a.a)(p)},2970:function(e,t,n){"use strict";n.r(t);n(7),n(94);var a=n(1855),i=n(796),o=(n(356),n(299),n(317)),r=n.n(o),s=n(0),l={data:function(){return{imageType:"",currImg:null,imageObjectType:"",model:"GraphLinksModel",nodes:[{key:"A",category:"a"},{key:"B",category:"b"},{key:"C",category:"c"}],links:[{from:"A",to:"B"},{from:"A",to:"C"}]}},methods:{config:function(e,t){return{initialContentAlignment:t.Spot.Center,"toolManager.hoverDelay":100}},layout:function(e,t){return new t.TreeLayout},getImage:function(e,t){this.imageType=e,console.log(e),this.imageObjectType="(".concat("imageData"!==this.imageType?t.toString():t.toString().substr(0,50)+"...",")"),"image"===e?this.currImg=t.src:"imageData"===e?this.currImg=t:"svg"===e&&(document.getElementById("imageConainer1").innerHTML="",document.getElementById("imageConainer1").appendChild(t))},diagramReady:function(e,t,n){},nodeTemplate:function(e,t,n,a){var i=a.htmlInfo.tool1;return e(t.Node,"Auto",{background:n,toolTip:i},e(t.TextBlock,"Default Text",{margin:12,stroke:"#ffffff"},new t.Binding("text","key")))},linkTemplate:function(e,t){return e(t.Link,{routing:t.Link.Orthogonal,corner:5},e(t.Shape,{strokeWidth:3,stroke:"#555"}))},nodeTemplateMap:function(e,t,n){var a=this.nodeTemplate(e,t,"red",n),i=this.nodeTemplate(e,t,"blue",n),o=this.nodeTemplate(e,t,"green",n),r=new t.Map;return r.add("a",a),r.add("b",i),r.add("c",o),r}}};s.default.use(r.a),s.default.use(i.a),s.default.use(a.a);var u=l,c=n(39),m=Object(c.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("my-go-snapshot",{attrs:{"diagram-name":"dig2"},on:{"on-snap":e.getImage},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.makeImageData,i=t.makeImage,o=t.makeSvg;return[n("el-button",{attrs:{circle:"",size:"mini",type:"primary",icon:"el-icon-camera-solid"},on:{click:a}}),e._v(" "),n("el-button",{attrs:{circle:"",size:"mini",type:"primary",icon:"el-icon-picture"},on:{click:i}}),e._v(" "),n("el-button",{attrs:{circle:"",size:"mini",type:"primary",icon:"el-icon-s-data"},on:{click:o}})]}}])}),e._v(" "),n("my-go",{attrs:{"diagram-name":"dig2",nodes:e.nodes,links:e.links,type:e.model,"node-template-map":e.nodeTemplateMap,"link-template":e.linkTemplate,config:e.config,layout:e.layout,height:"200px"},on:{"on-ready":e.diagramReady}}),e._v(" "),n("div",[e._v(e._s(e.imageType)+e._s(e.imageObjectType))]),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:"svg"!==e.imageType,expression:"imageType !== 'svg'"}],attrs:{src:e.currImg}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"svg"===e.imageType,expression:"imageType === 'svg'"}],attrs:{id:"imageConainer1"}})],1)}),[],!1,null,null,null);t.default=m.exports},299:function(e,t,n){},317:function(e,t,n){e.exports=function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=97)}({0:function(e,t,n){"use strict";function a(e,t,n,a,i,o,r,s){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),a&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var m=u.beforeCreate;u.beforeCreate=m?[].concat(m,l):[l]}return{exports:e,options:u}}n.d(t,"a",(function(){return a}))},97:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"el-button",class:[e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle}],attrs:{disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType},on:{click:e.handleClick}},[e.loading?n("i",{staticClass:"el-icon-loading"}):e._e(),e.icon&&!e.loading?n("i",{class:e.icon}):e._e(),e.$slots.default?n("span",[e._t("default")],2):e._e()])};a._withStripped=!0;var i={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(e){this.$emit("click",e)}}},o=n(0),r=Object(o.a)(i,a,[],!1,null,null,null);r.options.__file="packages/button/src/button.vue";var s=r.exports;s.install=function(e){e.component(s.name,s)};t.default=s}})},356:function(e,t,n){}}]);