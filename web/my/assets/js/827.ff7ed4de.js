(window.webpackJsonp=window.webpackJsonp||[]).push([[827],{296:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i(65),"My".toLowerCase();function r(t){return t.install=function(e){return"undefined"!=typeof window&&i(307).default(t),e.component(t.name,t)},t}},298:function(t,e,i){"use strict";i(310);var r={version:"4.0.1",debug:!1,appName:null,routePrefix:null,router:{mode:"hash",base:"/"},autoRoutes:!0,vuex:{strict:!1},keys:{code:"code",data:"data",message:"msg",total:"total",list:"list",page:"page",limit:"limit",pages:"pages"},statusCode:{success:0,notLogin:401,authorize:403,error:500},axios:{headers:{"Content-Type":"application/json;charset=UTF-8"},timeout:0,withCredentials:!0,responseType:"json",maxContentLength:-1},svg:{viewBox:"0 0 1024 1024",width:"1em",height:"1em",fill:"currentColor"},access:{},mock:{timeout:"50-200"},scale:{width:1920,height:1080,disabled:!0,lock:!0},analysis:!1,microApp:{prefetch:!1,singular:!0,sandbox:!0}};e.a=r},3019:function(t,e,i){"use strict";i.r(e);i(160);var r=i(938),n=i(935),o=i(400),a=i(0),s={data:function(){return{data:[],scatters:{}}},methods:{handleChange:function(t){this.scatters={}},styleCreator:function(t){var e=t.getGeometry().getCoordinates();this.scatters[e.join(",")]={coordinate:e}},getData:function(t){for(var e=[],i=0;i<t;i++)e.push({coordinate:[113+Math.random()-Math.random(),23+Math.random()-Math.random()]});return e}},created:function(){this.data=this.getData(1e3)}};a.default.use(o.a),a.default.use(n.a),a.default.use(r.a);var c=s,u=i(39),l=Object(u.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("my-map",[i("my-map-cluster",{attrs:{data:t.data,distance:50,styleCreator:t.styleCreator},on:{change:t.handleChange}}),t._v(" "),t._l(t.scatters,(function(e,r){return i("my-map-scatter",t._b({key:r},"my-map-scatter",e,!1))}))],2)}),[],!1,null,null,null);e.default=l.exports},307:function(t,e,i){"use strict";i.r(e);i(160),i(65);var r=i(298),n=!1,o=[],a=null;r.a.analysis&&function(){if(!n){var t="c4e5f73318b5cb0c389e3d9a05f831cc",e=window._hmt;if(!e||e&&e.id!==t){var i=document.createElement("script");i.src="https://hm.baidu.com/hm.js?".concat(t);var r=document.getElementsByTagName("script")[0];r&&r.parentNode.insertBefore(i,r)}n=!0}}(),e.default=function(t){var e;r.a.analysis&&(e=t.name,o.push(e),clearTimeout(a),a=setTimeout((function(){if(window._hmt&&e){var t=window.location.host,i=window.location.href;window._hmt.push(["_trackEvent",t,o.join(","),r.a.version,i]),o=[]}}),3e3))}},370:function(t,e,i){"use strict";i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return s})),i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return u}));i(91),i(160),i(65),i(438),i(40),i(94),i(412),i(68),i(442),i(367);var r=i(436),n=i.n(r),o=/^(http|https):\/\/[\w.:]*\//;function a(t,e,i){var r,n={};t=(t||location.search).replace(/^[^]*\?/,""),e=e||"&",i=i||"=";for(var o=new RegExp("(?:^|\\"+e+")([^\\"+i+"\\"+e+"]+)(?:\\"+i+"([^\\"+e+"]*))?","g");null!==(r=o.exec(t));)r[1]!==t&&(n[decodeURIComponent(r[1])]=decodeURIComponent(r[2]||""));return n}function s(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push([i,encodeURIComponent(t[i])].join("="));return e.join("&")}function c(t){var e=t.match(o);return e?e[0]:""}function u(t,e){var i=[],r=c(t),o=n()(t.replace(r,""),i).exec(e.split("?")[0].replace(r,"")),a={};return o&&o.length>0&&i.forEach((function(t,e){a[t.name]=o[e+1]})),a}},396:function(t,e,i){"use strict";i.d(e,"a",(function(){return Q}));i(162),i(67);var r=i(295),n=i(41),o=i(397),a=i(482),s=i(484),c=i(395),u=i(488),l=i(478),h=i(344),f=i(481),p=(i(160),i(65),i(7),i(94),i(23)),d=i(47),m=i(113),y=i(114),g=i(110),v=i(111),b=i(469),w=i(475),_="METER",x="KILOMETER",O="DEGREE",j="INCH",S="FOOT",k="ISERVER";function C(t,e,i){var r=t*e*(1/.0254)*function(t){var e;if(t===_)e=1;else if(t===O)e=2*Math.PI*6378137/360;else if(t===x)e=.001;else if(t===j)e=1/.025399999918;else{if(t!==S)return e;e=.3048}return e}(i);return r=1/r}function I(t,e,i){var r=t*e*(1/.0254)*this.getMeterPerMapUnit(i);return r=1/r}var F=function(t){Object(g.a)(i,t);var e=Object(v.a)(i);function i(t){var r;if(Object(p.a)(this,i),void 0===(t=t||{}).url)return Object(m.a)(r);t.format=t.format?t.format:"png";var n=t.url+"/tileImage."+t.format+"?";t.serverType=t.serverType||k,r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:t.state,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:function(e,r,n){o.tileGrid||(o.extent?(o.tileGrid=i.createTileGrid(t.extent),o.resolutions&&(o.tileGrid.resolutions=o.resolutions)):("EPSG:3857"===n.getCode()&&(o.tileGrid=i.createTileGrid([-20037508.3427892,-20037508.3427892,20037508.3427892,20037508.3427892]),o.extent=[-20037508.3427892,-20037508.3427892,20037508.3427892,20037508.3427892]),"EPSG:4326"===n.getCode()&&(o.tileGrid=i.createTileGrid([-180,-90,180,90]),o.extent=[-180,-90,180,90])));o.origin=o.tileGrid.getOrigin(0);var a=e[0],c=e[1],u=-e[2]-1,l=o.tileGrid.getResolution(a),h=n.getUnits();"degrees"===h&&(h=O);"m"===h&&(h=_);var f=C(l,96,h),p=Object(b.c)(o.tileGrid.getTileSize(a,o.tmpSize)),d=s.call(o)+encodeURI("&x="+c+"&y="+u+"&width="+p[0]+"&height="+p[1]+"&scale="+f);o.tileProxy&&(d=o.tileProxy+encodeURIComponent(d));o.cacheEnabled||(d+="&_t="+(new Date).getTime());return d},url:t.url,urls:t.urls,wrapX:void 0!==t.wrapX&&t.wrapX,cacheEnabled:t.cacheEnabled,layersID:t.layersID}),t.tileProxy&&(r.tileProxy=t.tileProxy),r.options=t,r._url=t.url,r.tileSetsIndex=-1,r.tempIndex=-1;var o=Object(y.a)(r);function a(){var e={};return e.redirect=void 0!==t.redirect&&t.redirect,e.transparent=void 0===t.transparent||t.transparent,e.cacheEnabled=!(!1===t.cacheEnabled),this.cacheEnabled=e.cacheEnabled,e._cache=e.cacheEnabled,this.origin&&(e.origin=JSON.stringify({x:this.origin[0],y:this.origin[1]})),t.prjCoordSys&&(e.prjCoordSys=JSON.stringify(t.prjCoordSys)),t.layersID&&(e.layersID=t.layersID.toString()),t.overlapDisplayed?e.overlapDisplayed=!0:(e.overlapDisplayed=!1,t.overlapDisplayedOptions&&(e.overlapDisplayedOptions=this.overlapDisplayedOptions.toString())),t.cacheEnabled&&t.tileversion&&(e.tileversion=t.tileversion.toString()),e}function s(){return this._paramsChanged&&(this._layerUrl=c.call(this),this._paramsChanged=!1),this._layerUrl||c.call(this)}function c(){return this._layerUrl=n+encodeURI(u.call(this)),this._layerUrl}function u(){this.requestParams=this.requestParams||a.call(this);var t=[];for(var e in this.requestParams)t.push(e+"="+this.requestParams[e]);return t.join("&")}return r}return Object(d.a)(i,[{key:"setTileSetsInfo",value:function(t){this.tileSets=t,Array.isArray(this.tileSets)&&(this.tileSets=t[0]),this.tileSets&&(this.dispatchEvent({type:"tilesetsinfoloaded",value:{tileVersions:this.tileSets.tileVersions}}),this.changeTilesVersion())}},{key:"lastTilesVersion",value:function(){this.tempIndex=this.tileSetsIndex-1,this.changeTilesVersion()}},{key:"nextTilesVersion",value:function(){this.tempIndex=this.tileSetsIndex+1,this.changeTilesVersion()}},{key:"changeTilesVersion",value:function(){var t=this;if(null!=t.tileSets&&!(t.tempIndex===t.tileSetsIndex||this.tempIndex<0)){var e=t.tileSets.tileVersions;if(e&&t.tempIndex<e.length&&t.tempIndex>=0){var i=e[t.tempIndex].name;t.mergeTileVersionParam(i)&&(t.tileSetsIndex=t.tempIndex,t.dispatchEvent({type:"tileversionschanged",value:{tileVersion:e[t.tempIndex]}}))}}}},{key:"updateCurrentTileSetsIndex",value:function(t){this.tempIndex=t}},{key:"mergeTileVersionParam",value:function(t){return!!t&&(this.requestParams.tileversion=t,this._paramsChanged=!0,this.refresh(),!0)}}],[{key:"optionsFromMapJSON",value:function(t,e){var i={};i.url=t,i.crossOrigin="anonymous";var r=[e.bounds.left,e.bounds.bottom,e.bounds.right,e.bounds.top],n=function(){var t,i=r[2]-r[0],n=r[3]-r[1],o=i>=n?i:n;t=o===i?o/e.viewer.width:o/e.viewer.height;var a=[],s=_;e.coordUnit===O&&(s=O);if(e.visibleScalesEnabled&&e.visibleScales&&e.visibleScales.length>0)for(var c=0;c<e.visibleScales.length;c++)a.push(I(e.visibleScales[c],96,s));else for(var u=0;u<17;u++)a.push(t/Math.pow(2,u));return a.sort((function(t,e){return e-t}))}();return i.tileGrid=new h.a({extent:r,resolutions:n}),i}},{key:"createTileGrid",value:function(t,e,i,r,n){var o=Object(w.a)({extent:t,maxZoom:e,minZoom:i,tileSize:r});return new h.a({extent:t,minZoom:i,origin:n,resolutions:o.getResolutions(),tileSize:o.getTileSize()})}}]),i}(l.a),T=i(325),E=i(346),M=i(370),P=(i(40),i(68),i(485)),A=i.n(P),G=new E.b({code:"baidu",extent:[-20037726.37,-12474104.17,20037726.37,12474104.17],units:"m"});Object(E.d)(G),Object(E.c)("EPSG:4326",G,A.a.ll2bmerc,A.a.bmerc2ll),Object(E.c)("EPSG:3857",G,A.a.smerc2bmerc,A.a.bmerc2smerc);for(var z=new Array(19),R=0;R<19;++R)z[R]=Math.pow(2,18-R);var V=function(t){return new o.a({source:new c.a({projection:"baidu",maxZoom:18,tileUrlFunction:function(e){var i=e[1],r=-e[2]-1,n=e[0];i<0&&(i="M"+-i),r<0&&(r="M"+-r);var o=Math.ceil(5*Math.random());return t.url.replace(/{x}/g,i).replace(/{y}/g,r).replace(/{z}/g,n).replace(/{n}/g,o)},tileGrid:new h.a({resolutions:z,origin:[0,0]})})})},L="http://webrd03.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}&lang=zh_cn",N="http://online{n}.map.bdimg.com/tile/?qt=vtile&x={x}&y={y}&z={z}&styles=pl&scaler=1&udt=20190718",B="http://10.8.6.103/PGIS_S_TileMapServer/Maps/BJSL/EzMap?Service=getImage&Type=RGB&ZoomOffset=0",D="http://53.1.238.17/iserver/services/map-pgisvec/rest/maps/pgisvecv1",$="http://68.26.21.71/images/GetImage.do?method=showImageRedisBytable&jinyi_admin:MA_PGISSLDT&version=v1";function W(){for(var t=[],e=0;e<20;e++){var i=e<7?[64,64]:[107.5,28];t.push(i)}return t}function Z(){for(var t=[],e=0;e<20;e++){var i=2.0000081722216954/Math.pow(2,e);t.push(i)}return t}function X(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EPSG:4326",e=256,i=Object(E.i)(t),r=i.getExtent(),n=Object(T.E)(r)/e,o=[],a=[],s=0;s<=20;s++)o[s]=s,a[s]=n/Math.pow(2,s);return new f.b({origin:Object(T.C)(r),resolutions:a,matrixIds:o})}function U(t){var e=t.layers.map((function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vec_c";return new o.a({source:new c.a({url:"http://t{0-7}.tianditu.com/DataServer?T="+t+"&x={x}&y={y}&l={z}&tk=464554f64aa4f4e90e0321c17a57a331"})})}(t)}));return new a.a({layers:e})}function Y(t){var e=X(),i=t.url;return new o.a({source:new u.a({url:i,tileGrid:e}),wrapX:!1})}function H(t){var e=t.url,i=X();return new o.a({source:new u.a({url:"",crossOrigin:"Anonymous",tileGrid:i,tileLoadFunction:function(t,i){var r=Object(M.c)(i),n={Row:r.TileRow,Col:r.TileCol,Zoom:r.TileMatrix,V:"1.0.0"};t.getImage().src="".concat(e,"&").concat(Object(M.d)(n))}}),wrapX:!1})}function q(t){if("function"==typeof t.url){var e=t.url,i=X();return new o.a({source:new u.a({url:"",crossOrigin:"Anonymous",tileGrid:i,tileLoadFunction:function(t,i){var r=Object(M.c)(i);t.getImage().src=e(r)}}),wrapX:!1})}return H(t)}function J(t){return new o.a({source:new F({url:t.url}),projection:t.projection||"EPSG:4326"})}function K(t){var e=t.url;return new o.a({projection:t.projection||"EPSG:4326",url:"".concat(e,"&l={z}&x={y}&y={x}"),tileGrid:new h.a({origin:t.origins||W(),resolutions:t.resolutions||Z()})})}function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"==typeof t)return t({TileLayer:o.a,LayerGroup:a.a,OSM:s.a,XYZ:c.a,WMTS:u.a,TileImage:l.a,TileGrid:h.a,WMTSGrid:f.b,getWidth:T.E,getTopLeft:T.C,getProj:E.i});var i="object"===Object(n.a)(t)?Object(r.a)({},t):{type:t},p=i.type;switch(delete i.type,p){case"OSM":return new o.a(Object(r.a)(Object(r.a)({},e),{},{source:new s.a(i)}));case"XYZ":return new o.a(Object(r.a)(Object(r.a)({},e),{},{source:new c.a(i)}));case"Amap":return new o.a(Object(r.a)(Object(r.a)({},e),{},{source:new c.a(Object(r.a)({url:L},i))}));case"Baidu":return V(Object(r.a)({url:N},i));case"TDT":return U(Object(r.a)({layers:["vec_c","vec_w","cva_w","ibo_w"]},i));case"Founder":return Y(Object(r.a)({url:"http://127.0.0.1:3000/proxy"},i));case"Ez":return H(Object(r.a)({url:B},i));case"Super":return J(Object(r.a)({url:D},i));case"Fc":return K(Object(r.a)({url:$},i));case"WMTS":return q(i)}}},398:function(t,e,i){},400:function(t,e,i){"use strict";var r=i(296),n=(i(162),i(19),i(359),i(91),i(160),i(67),i(301),i(401),i(341),i(92),i(295)),o=i(69),a=i(486),s=i(479),c=i(473),u=i(474),l=i(426),h=i(470),f=i(464),p=i(396),d=i(316),m={name:"MyMap",provide:function(){return{myMap:this}},props:{zoom:{type:Number,default:10},minZoom:{type:Number,default:1},maxZoom:{type:Number,default:20},center:{type:Array,default:function(){return[113.261999,23.130592]}},adapter:{type:[String,Object,Function],default:"Baidu"},projection:{type:String,default:"EPSG:4326"},width:{type:String,default:"100%"},height:{type:String,default:"400px"},dragPan:{type:Boolean,default:!0},mouseWheelZoom:{type:Boolean,default:!0},mapOptions:Object,viewOptions:Object,invert:Boolean,filter:Object},render:function(){var t=arguments[0];return t("div",{class:this.classes,style:this.styles},[this.$slots.default])},data:function(){return{cursor:null,viewWidth:0,viewHeight:0}},computed:{classes:function(){return{"my-map":!0,"my-map--invert":this.invert}},styles:function(){return{width:this.width,height:this.height,cursor:this.cursor?"pointer":""}},filterStyle:function(){return this.filter?Object.entries(this.filter).map((function(t){var e=Object(o.a)(t,2),i=e[0],r=e[1];return"hue-rotate"===i?"".concat(i,"(").concat(r,"deg)"):"".concat(i,"(").concat(r,")")})).join(" "):null}},watch:{dragPan:function(t){this.setActive(c.a,t)},mouseWheelZoom:function(t){this.setActive(u.a,t)},filterStyle:function(){this.setCanvasFilter()}},methods:{setActive:function(t,e){if(this.map){var i=this.map.getInteractions().getArray().find((function(e){return e instanceof t}));i&&i.setActive(e)}},init:function(){var t=this.$props,e=t.center,i=t.projection,r=t.zoom,o=t.minZoom,h=t.maxZoom,f=Object(p.a)(this.adapter);f.__MY_LAYER__=!0;var m=new s.a(Object(n.a)(Object(n.a)({},this.viewOptions||{}),{},{projection:i,center:e,zoom:r,minZoom:o,maxZoom:h}));this.map=new a.a(Object(n.a)(Object(n.a)({},this.mapOptions||{}),{},{layers:[].concat(f),view:m,target:this.$el,controls:[],interactions:[new c.a,new u.a,new l.b({handleEvent:this.handleEvent})]})),this.setActive(c.a,this.dragPan),this.setActive(u.a,this.mouseWheelZoom),this.bindMapEvents(),this.$emit("ready",this.map,this),Object(d.addResizeListener)(this.$el,this.setViewSize),this.setCanvasFilter()},dispose:function(){this.map&&(this.map.disposeInternal(),this.unbindMapEvents(),Object(d.removeResizeListener)(this.$el,this.setViewSize))},getFeatureAtPixel:function(t){return this.map?this.map.forEachFeatureAtPixel(t,(function(t){return t})):null},setCursor:function(t){var e=this.getFeatureVM(t);this.cursor=e&&(e.cursor||e.$listeners.click)},clickTrigger:function(t,e){if(t){var i=this.getFeatureVM(t);i&&i.$emit("click",e,t)}},getLayer:function(){return this.map?this.map.getLayers().getArray().find((function(t){return t.__MY_LAYER__})):null},getFeatureVM:function(t){if(t){var e=(t.get("features")||[])[0]||t;return e.__vm__||e.get("__vm__")}},enterAndLeaveTrigger:function(t,e){if(!this.featureAtPixel&&t){this.$emit("mouseenter",e,t);var i=this.getFeatureVM(t);i&&i.$emit("mouseenter",e,t)}if(this.featureAtPixel&&!t){this.$emit("mouseleave",e,this.featureAtPixel);var r=this.getFeatureVM(this.featureAtPixel);r&&r.$emit("mouseleave",e,this.featureAtPixel)}if(this.featureAtPixel&&t&&this.featureAtPixel!==t){this.$emit("mouseleave",e,this.featureAtPixel),this.$emit("mouseenter",e,t);var n=this.getFeatureVM(this.featureAtPixel);n&&n.$emit("mouseleave",e,this.featureAtPixel);var o=this.getFeatureVM(t);o&&o.$emit("mouseenter",e,t)}this.featureAtPixel=t},handleEvent:function(t){var e=t.type,i=this.getFeatureAtPixel(t.pixel);switch(e){case"pointermove":this.setCursor(i),this.enterAndLeaveTrigger(i,t);break;case"click":this.clickTrigger(i,t)}return!0},bindMapEvents:function(){var t=this;this.map&&(Object.entries(this.$listeners).forEach((function(e){var i=Object(o.a)(e,2),r=i[0],n=i[1];return t.map.on(r,n)})),this.map.on())},unbindMapEvents:function(){var t=this;this.map&&Object.entries(this.$listeners).forEach((function(e){var i=Object(o.a)(e,2),r=i[0],n=i[1];return t.map.un(r,n)}))},resize:function(){this.map.updateSize()},moveTo:function(t){this.map&&this.map.getView().animate({center:t,duration:200})},zoomTo:function(t){this.map&&this.map.getView().animate({zoom:Number.parseInt(t),duration:200})},zoomIn:function(){if(this.map){var t=this.map.getView();this.zoomTo(t.getZoom()+1)}},zoomOut:function(){if(this.map){var t=this.map.getView();this.zoomTo(t.getZoom()-1)}},mapReady:function(t){this.map?t&&t(this.map,this):this.$once("ready",t)},createVectorLayer:function(){if(this.map&&!this.vectorLayer){var t=new f.a;return this.vectorLayer=new h.a({source:t,zIndex:1}),this.map.addLayer(this.vectorLayer),this.vectorLayer}},addFeature:function(t){if(this.map){this.vectorLayer||this.createVectorLayer();var e=this.vectorLayer.getSource(),i=[].concat(t);e.addFeatures(i)}},removeFeature:function(t){if(this.vectorLayer){var e=this.vectorLayer.getSource();[].concat(t).forEach((function(t){return e.removeFeature(t)}))}},getMetersPerUnit:function(){return this.map?this.map.getView().getProjection().getMetersPerUnit():0},setViewSize:function(){var t=this.$el.getBoundingClientRect();this.viewWidth=t.width||0,this.viewHeight=t.height||0,this.map&&this.map.updateSize(),this.$emit("viewSizeChange",t)},setCanvasFilter:function(){if(this.map){var t=this.map.getViewport();t&&(t.style.filter=this.filterStyle)}}},mounted:function(){this.init()},beforeDestroy:function(){this.dispose()}};i(483),i(398),e.a=Object(r.a)(m)},407:function(t,e,i){"use strict";i(91),i(161),i(341),i(165),i(92);var r=i(69),n=i(41),o=i(556),a=i(555),s=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new o.a({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:a.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}(),c=i(1161),u=i(1162),l=i(1860),h=i(1163),f=i(845),p={fill:o.a,text:s,stroke:c.a,circle:u.a,icon:l.a,regularShape:h.a,backgroundFill:o.a,backgroundStroke:c.a},d=[u.a,l.a,h.a];function m(t){return"object"===Object(n.a)(t)}function y(t,e,i){var r,n;if(null!=i)return t?["fill","backgroundFill"].includes(e)?(n=m(r=i)?r:{color:r},new o.a(n)):"text"===e?m(i)?g(i,t):i:g(i,t):i}function g(t,e){var i={};return Object.entries(t).forEach((function(t){var e=Object(r.a)(t,2),n=e[0],o=e[1],a=p[n];"font"===n&&(o="".concat(o," sans-serif")),i[d.includes(a)?"image":n]=y(a,n,o)})),new(e||f.c)(i)}e.a=g},425:function(t,e,i){"use strict";var r,n=i(428),o=i(433),a=i(406),s=i(440),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=function(t){function e(e){var i=t.call(this)||this;if(i.id_=void 0,i.geometryName_="geometry",i.style_=null,i.styleFunction_=void 0,i.geometryChangeKey_=null,i.addEventListener(Object(s.b)(i.geometryName_),i.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var r=e;i.setGeometry(r)}else{var n=e;i.setProperties(n)}return i}return c(e,t),e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(o.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(o.a)(t,a.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;var e;Array.isArray(t)?e=t:(Object(n.a)("function"==typeof t.getZIndex,41),e=[t]);return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener(Object(s.b)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(Object(s.b)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(s.a);e.a=u},437:function(t,e,i){var r=i(1),n=i(480),o=i(105);r({target:"Array",proto:!0},{fill:n}),o("fill")},480:function(t,e,i){"use strict";var r=i(15),n=i(112),o=i(16);t.exports=function(t){for(var e=r(this),i=o(e.length),a=arguments.length,s=n(a>1?arguments[1]:void 0,i),c=a>2?arguments[2]:void 0,u=void 0===c?i:n(c,i);u>s;)e[s++]=t;return e}},509:function(t,e,i){"use strict";i(301);e.a={props:{zIndex:Number,fill:{type:String,default:"rgba(255, 255,255, 0.5)"},stroke:{type:Object,default:function(){return{width:3,color:"#409eff"}}},text:[Object,String],styleFunction:Function},computed:{styleText:function(){return"string"==typeof this.text?{text:this.text,font:"12px"}:this.text||{}}}}},527:function(t,e,i){"use strict";i(437);var r=i(295),n=i(425),o=i(509),a=i(407);e.a={mixins:[o.a],inject:["myMap"],props:{props:{type:Object,default:function(){return{}}}},render:function(){return null},watch:{$props:{deep:!0,handler:function(){this.modify()}}},methods:{drawHandler:function(){},modifyHandler:function(t){},draw:function(){var t=this.drawHandler();t&&(this.feature=new n.a({geometry:t}),this.feature.__vm__=this,this.props&&this.feature.setProperties(Object(r.a)({},this.props)),this.myMap.addFeature(this.feature),this.setStyle(),this.$emit("featureDraw"))},setStyle:function(){if(this.feature){var t=this.styleFunction?this.styleFunction(this):Object(a.a)({fill:this.fill,stroke:this.stroke,zIndex:this.zIndex,text:this.styleText});this.feature.setStyle(t)}},modify:function(){if(this.feature){var t=this.feature.getGeometry();this.modifyHandler(t),this.setStyle(),this.props&&this.feature.setProperties(Object(r.a)({},this.props))}}},created:function(){this.myMap.mapReady(this.draw)},beforeDestroy:function(){this.feature&&(this.feature.__vm__=null,this.feature.disposeInternal(),this.myMap.removeFeature(this.feature))}}},935:function(t,e,i){"use strict";var r,n=i(296),o=(i(437),i(67),i(301),i(7),i(94),i(490)),a=i(425),s=i(470),c=i(464),u=i(443),l=i(428),h=i(411),f=i(631),p=i(406),d=i(325),m=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),y=function(t){function e(e){var i=t.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return i.resolution=void 0,i.distance=void 0!==e.distance?e.distance:20,i.features=[],i.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return Object(l.a)(e.getType()==h.a.POINT,10),e},i.boundRefresh_=i.refresh.bind(i),i.setSource(e.source||null),i}return m(e,t),e.prototype.clear=function(e){this.features.length=0,t.prototype.clear.call(this,e)},e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,i){this.source.loadFeatures(t,e,i),e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))},e.prototype.setDistance=function(t){this.distance=t,this.refresh()},e.prototype.setSource=function(t){this.source&&this.source.removeEventListener(p.a.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(p.a.CHANGE,this.boundRefresh_),this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},e.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var t=Object(d.j)(),e=this.distance*this.resolution,i=this.source.getFeatures(),r={},n=0,o=i.length;n<o;n++){var a=i[n];if(!(Object(u.c)(a)in r)){var s=this.geometryFunction(a);if(s){var c=s.getCoordinates();Object(d.m)(c,t),Object(d.c)(t,e,t);var l=this.source.getFeaturesInExtent(t);l=l.filter((function(t){var e=Object(u.c)(t);return!(e in r)&&(r[e]=!0,!0)})),this.features.push(this.createCluster(l))}}}},e.prototype.createCluster=function(t){for(var e=[0,0],i=t.length-1;i>=0;--i){var r=this.geometryFunction(t[i]);r?Object(f.a)(e,r.getCoordinates()):t.splice(i,1)}Object(f.g)(e,1/t.length);var n=new a.a(new o.a(e));return n.set("features",t),n},e}(c.a),g=i(407),v={name:"MyMapCluster",inject:["myMap"],render:function(){return this.$slots.default},props:{data:{type:Array,default:function(){return[]}},keyMap:{type:Object,default:function(){return{coordinate:"coordinate"}}},distance:{type:Number,default:20},styleCreator:{type:[Object,Function],default:function(){return{fill:"#409eff",radius:10,strokeWidth:1,strokeColor:"#fff",textFill:"#fff",scaleSeed:.001}}},cluster:{type:Boolean,default:!0},zIndex:Number,cursor:Boolean},methods:{init:function(t){if(!this.layer){var e=new c.a({}),i=new y({distance:this.distance,source:e});i.on("change",this.handleClusterChange);var r,n="function"==typeof this.styleCreator?this.styleCreator:(r=this.styleCreator,function(t){var e=(t.get("features")||[]).length,i=r.fill,n=r.radius,o=r.strokeWidth,a=r.strokeColor,s=r.textFill,c=r.scaleSeed;return Object(g.a)({circle:{radius:n+c*e,stroke:{width:o,color:a},fill:i},text:{text:e>0?e.toString():"",fill:s}})});this.layer=new s.a({source:this.cluster?i:e,zIndex:this.zIndex,style:n}),t.addLayer(this.layer),this.draw(this.data),this.$emit("ready",this)}},dispose:function(){if(this.myMap&&this.myMap.map&&this.layer){var t=this.layer.getSource();t&&t.un("change",this.handleClusterChange),this.myMap.map.removeLayer(this.layer)}},draw:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=this.keyMap.coordinate,r=e.map((function(e){return new a.a({geometry:new o.a(e[i]),data:e,__vm__:t})}));if(this.layer){var n=this.getSource();n&&n.addFeatures(r)}},clear:function(){if(!this.layer){var t=this.getSource();t&&t.clear()}},getSource:function(){if(this.layer){var t=this.layer.getSource();return this.cluster?t.getSource():t}},handleClusterChange:function(t){this.$emit("change",t)}},created:function(){this.myMap.mapReady(this.init)},beforeDestroy:function(){this.dispose()}};e.a=Object(n.a)(v)},938:function(t,e,i){"use strict";var r=i(296),n=(i(162),i(437),i(301),i(69)),o=i(295),a=i(490),s=i(659),c=i(527),u=i(407),l={color:null,period:1.5,scale:5,strokeColor:null,strokeWidth:2,type:"fill"},h={name:"MyMapScatter",mixins:[c.a],props:{coordinate:Array,radius:{type:Number,default:10},effect:{type:Boolean,default:!0},fill:{type:String,default:"#409eff"},stroke:{type:Object},ripple:{type:Object,default:function(){return l}},delay:{type:Number,default:0},loop:{type:Boolean,default:!0}},computed:{rippleOptions:function(){var t=this.ripple.color||this.fill,e=this.ripple.strokeColor||this.fill;return Object(o.a)(Object(o.a)(Object(o.a)({},l),this.ripple),{},{color:t,strokeColor:e})}},methods:{drawHandler:function(){return new a.a(this.coordinate)},modifyHandler:function(t){t.setCoordinates(this.coordinate)},delayStart:function(t){this.delay?(clearTimeout(this.delayId),this.delayId=setTimeout(t,this.delay)):t()},setStyle:function(){var t=this;if(this.feature){var e=[Object(u.a)({zIndex:this.zIndex,circle:{fill:this.fill,radius:this.radius,stroke:this.stroke},text:this.styleText})];if(this.effect){var i=this.getRipple(this.rippleOptions),r=this.getRippleStroke(this.rippleOptions);e=[r,i].concat(e),this.delayStart((function(){t.rippleEffect(e,t.rippleOptions)}))}this.feature.setStyle(e)}},getRipple:function(t){var e=t.color;return Object(u.a)({zIndex:this.zIndex,circle:{fill:e,radius:this.radius}})},getRippleStroke:function(t){var e=t.strokeColor,i=t.strokeWidth;return Object(u.a)({zIndex:this.zIndex,circle:{fill:"transparent",radius:this.radius,stroke:{color:e,width:i}}})},rippleEffect:function(t,e){var i=this,r=e.scale,o=e.period,a=e.type,c=Object(n.a)(t,3),u=c[0],l=c[1],h=c[2],f="fill"===a?l.getImage():u.getImage(),p=(new Date).getTime();!function n(){var a=((new Date).getTime()-p)/(1e3*o);if(a>1)i.loop&&i.rippleEffect(t,e);else{var c=Object(s.b)(a),d=i.radius*r*c,m=1-c;f.setRadius(d),f.setOpacity(m),i.feature.setStyle([u,l,h]),i.aId=window.requestAnimationFrame(n)}}()}},beforeDestroy:function(){this.aId&&window.cancelAnimationFrame(this.aId)}};e.a=Object(r.a)(h)}}]);