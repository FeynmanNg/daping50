(window.webpackJsonp=window.webpackJsonp||[]).push([[1125],{1241:function(e,t,n){"use strict";var o=n(296),i=n(802),s=n.n(i),u=s.a.GraphObject.make,a={name:"MyGoHtml",inject:["diagramName"],props:{menuName:{type:String,required:!0},appendToBody:{type:Boolean,default:!0},menuStyle:{type:Object,default:function(){return{"z-index":1e4,position:"fixed"}}},beforeShowMenu:{type:Function,default:function(){}},showContextMenu:{type:Function},hideContextMenu:{type:Function},autoHide:{type:Boolean,default:!0}},data:function(){return{menu:null,menuObj:null,name:"XdhGoHtml"}},computed:{},methods:{bindMenu:function(){this.menuObj=this.$children[0],this.menu=this.$children[0].$el,this.menu.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1}),!1);var e={show:this.showMenu,mainElement:this.menu};return this.autoHide&&(e.hide=this.hideMenu),u(s.a.HTMLInfo,e)},showMenu:function(e,t,n){if(this.beforeShowMenu(e,t,n,this.menu),this.showContextMenu)this.showContextMenu(e,t,n,this.menu);else{this.menu.style.display="block";var o=t.lastInput.event;this.menu.style.left=o.pageX+"px",this.menu.style.top=o.pageY+"px"}},hideMenu:function(e,t){this.hideContextMenu?this.hideContextMenu(e,t,this.menu):this.menu.style.display="none"}},mounted:function(){this.appendToBody?document.body.append(this.$children[0].$el):this.$parent.$parent.$el.append(this.$children[0].$el)}},l=n(39),r=Object(l.a)(a,(function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.menuStyle},[this._t("default")],2)}),[],!1,null,null,null).exports;t.a=Object(o.a)(r)},1392:function(e,t,n){"use strict";var o=n(296),i={name:"MyGoTooltip",components:{},props:{text:{type:String,default:"提示"}},data:function(){return{}},computed:{},methods:{},created:function(){},beforeDestroy:function(){this.$el.parentNode.removeChild(this.$el)}},s=n(39),u=Object(s.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"my-go-tooltip"},[this._t("default",[t("div",{staticClass:"tooltip-text"},[this._v("\n       "+this._s(this.text)+"\n    ")])],{text:this.text})],2)}),[],!1,null,"75084fb2",null).exports;t.a=Object(o.a)(u)},1487:function(e,t,n){},2347:function(e,t,n){"use strict";var o=n(1487);n.n(o).a},2694:function(e,t,n){"use strict";n.r(t);var o=n(1392),i=n(1241),s=n(796),u=n(0),a={data:function(){return{list:[{text:"编辑"},{text:"删除"}],model:"GraphLinksModel",showTimeout:null,nodes:[{key:"A",category:"a"},{key:"B",category:"b"},{key:"C",category:"c"}],links:[{from:"A",to:"B"},{from:"A",to:"C"}]}},methods:{itemClick:function(e){this.$message({type:"info",message:"点击了"+e}),this.$refs.menu.$el.style.display="none"},showContextMenu:function(e,t,n,o){this.showTimeout&&clearTimeout(this.showTimeout),o.style.display="block";var i=t.div.getBoundingClientRect(),s=t.transformDocToView(e.actualBounds.center);o.style.left=s.x+i.left+"px",o.style.top=s.y+i.top+20+"px"},beforeShowMenu:function(e,t,n,o){this.list[2]?this.list[2].text=e.data.key:this.list.push({text:e.data.key})},config:function(e,t){return{initialContentAlignment:t.Spot.Center,"toolManager.hoverDelay":100}},nodeTemplate:function(e,t,n,o){var i=o.htmlInfo.tool3;return e(t.Node,"Auto",{background:n,contextMenu:i},e(t.TextBlock,"Default Text",{margin:12,stroke:"#ffffff"},new t.Binding("text","key")))},linkTemplate:function(e,t){return e(t.Link,{routing:t.Link.Orthogonal,corner:5},e(t.Shape,{strokeWidth:3,stroke:"#555"}))},nodeTemplateMap:function(e,t,n){var o=this.nodeTemplate(e,t,"red",n),i=this.nodeTemplate(e,t,"blue",n),s=this.nodeTemplate(e,t,"green",n),u=new t.Map;return u.add("a",o),u.add("b",i),u.add("c",s),u},layout:function(e,t){return new t.TreeLayout}}};u.default.use(s.a),u.default.use(i.a),u.default.use(o.a);var l=a,r=(n(2347),n(39)),d=Object(r.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("my-go",{attrs:{"diagram-name":"dig3",nodes:e.nodes,links:e.links,type:e.model,"node-template-map":e.nodeTemplateMap,"link-template":e.linkTemplate,config:e.config,layout:e.layout,height:"200px"}},[n("my-go-html",{attrs:{"before-show-menu":e.beforeShowMenu,"show-context-menu":e.showContextMenu,"menu-name":"tool3"}},[n("my-go-tooltip",{ref:"menu"},[n("div",{staticClass:"menu-list"},e._l(e.list,(function(t,o){return n("div",{key:o,staticClass:"item",on:{click:e.itemClick}},[e._v("\n          "+e._s(t.text)+"\n        ")])})),0)])],1)],1)}),[],!1,null,"0eb6cfd6",null);t.default=d.exports}}]);